{##
 # @param {object} items An object of items with label as key
 #
 # @param {string} [variant] A table
 #
 # @return {string} HTML for key/value table
 #
 # @example
 #   {% component 'key-value-table', variant='striped', items={
 #     'Key #1: '80%',
 #     'Key #2: '20%'
 #   } %}
 #}

{% if items|length %}
  <table class="table--key-value{{ ' table--' + variant if variant }}">
    <tbody>
      {% for label, data in items %}
        {% set id = data.id %}
        <tr>
          <th>{{ label }}</th>
          <td>
            {% if data.url %}
              <a
                {% if data.hintId %}aria-labelledby="{{ data.hintId }}"{% endif %}
                href="{{ data.url }}"
              >
                {{- data.name -}}
              </a>
              {% if data.hint %}
                <span
                  {% if data.hintId %}id="{{ data.hintId }}"{% endif %}
                >
                  {{- data.hint -}}
                </span>
              {% endif  %}
            {% elif data | isArray %}
              <ul>
               {% for item in data | removeNilAndEmpty %}
                 <li>{{ item }}{{ "," if not loop.last }}</li>
               {% endfor %}
              </ul>
            {% elif data | isPlainObject %}
              {% if data.type == "date" %}
                {{ data.name | formatDate }}
              {% elif data.type == "currency" %}
                {{ data.name | formatCurrency }}
              {% else %}
                {{ data.name }}
              {% endif %}
            {% else %}
              {{ data }}
            {% endif %}

            {% if data.actions %}
              <span class="table__actions">
                {% for item in data.actions %}
                  <a class="table__action" href="{{ item.url }}">{{ item.label }}</a>
                {% endfor %}
              </span>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endif %}
