{% extends "_layouts/full-column.njk" %}

{% macro AddressCell(meta, address) %}
  <td>
    {{
      MetaList({
        items: meta,
        modifier: 'stacked',
        itemModifier: 'stacked'
      })
    }}
    <ul>
      {% for element in address %}
        <li>{{ element }}</li>
      {% endfor %}
    </ul>
  </td>
{% endmacro %}

{% block main_column %}

  <div class="section">
    <h2 class="heading-medium">{{ company.name }} is known as</h2>

    {% component 'key-value-table', items=knownAsDetails %}
  </div>

  {% if company.one_list_group_tier %}
    <div class="section">
      <h2 class="heading-medium">Global Account Manager â€“ One List</h2>

      {% component 'key-value-table', items=oneListDetails %}

      <p>
        <a href="advisers">See all advisers on the core team</a>
      </p>
    </div>
  {% endif %}

  <div class="section">
    <h2 class="heading-medium">Business hierarchy</h2>

    {% component 'key-value-table', items=businessHierarchyDetails %}
  </div>

  <div class="section">
    <h2 class="heading-medium">DIT sector</h2>

    <table class="table--key-value">
      <tbody>
      {% for sector in sectorDetails %}
        <tr>
          <td>{{ sector }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2 class="heading-medium">Addresses</h2>

    <table class="table--key-value">
      <tbody>
      <tr>
        {% if addressesDetails.trading.address %}
          {{ AddressCell(addressesDetails.trading.meta, addressesDetails.trading.address) }}
        {% endif %}
        {% if addressesDetails.registered.address %}
          {{ AddressCell(addressesDetails.registered.meta, addressesDetails.registered.address) }}
        {% endif %}
      </tr>
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2 class="heading-medium">Additional business information</h2>

    {% component 'key-value-table', items=additionalInformationDetails %}
  </div>

{% endblock %}
