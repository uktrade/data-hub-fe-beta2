{% extends "_layouts/datahub-base.njk" %}

{% block body_main_header_content %}{% endblock %}

{% block body_main_content %}
  <h2 class="heading-xlarge">Sign in</h2>

  {% if messages.error.length %}
    <div class="flash-message error-message">
      <p class="flash-message-content">
        {% for message in messages.error %}
          {{ message }}<br>
        {% endfor %}
      </p>
    </div>
  {% endif %}

  {% if messages.success.length %}
    <div class="flash-message success-message">
      <p class="flash-message-content">
        {% for message in messages.success %}
          {{ message }}<br>
        {% endfor %}
      </p>
    </div>
  {% endif %}

  {{ errorPanel( messages.formErrors ) }}

  <form action="" method="post">
    <input type="hidden" name="_csrf" value="{{ csrfToken }}">
    {{ textbox('username', label="Email address", error=errors.username, autofocus=true) }}
    {{ textbox('password', label="Password", error=errors.password, type='password', autocomplete=false) }}
    {{ save(buttonText='Sign in') }}
  </form>
{% endblock %}
